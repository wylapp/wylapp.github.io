<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> CS224N-Assignment#4 Review · 我的技术</title><meta name="description" content="CS224N-Assignment#4 Review - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.svg"><link rel="stylesheet" href="/css/hermes.css"><link rel="search" type="application/opensearchdescription+xml" href="https://wylapp.github.io/atom.xml" title="我的技术"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="wrap"><header><a class="logo-link" href="/"><img src="/heading.svg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">BLOG</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self">ARCHIVE</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">FEED</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">CS224N-Assignment#4 Review</h1><div class="post-info">2022年4月1日</div><div class="post-content"><!--markdown-->We are now providing accelerated docs browse service for [pytorch][1].

<p>Following the instruction document, the procedure should be at ease. Limited by the computing resource, my model is not trained thoroughly, resulting in BLUE≈22.54, which is acceptable according to the handout.<br>The scaffold may be written under the Python2 environment, to run in Python3, some lines need to be altered.</p>
<span id="more"></span>
<p><code>nmt_model.py</code>, line 438, alter to:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prev_hyp_ids = top_cand_hyp_pos // <span class="built_in">len</span>(self.vocab.tgt)</span><br></pre></td></tr></table></figure>
<p>This problem may be caused by the different behavior of operator slash and double slash between Python2 and Python3. Additionally, to run the test script, you should first make a directory called <code>output</code>.</p>
<p>In the following part, I’d like to review coding skills and some nasty problems.</p>
<h2 id="LSTM-and-LSTMCell"><a href="#LSTM-and-LSTMCell" class="headerlink" title="LSTM and LSTMCell"></a>LSTM and LSTMCell</h2><p>Pytorch provides both <code>LSTM</code> and <code>LSTMCell</code>, <code>LSTM</code> accepts the sequential data elements simultaneously, and will get a bunch of hidden states. <code>LSTMCell</code> gives you the ability to manually operate one LSTM cell at a step. <code>LSTM</code> could be configured as bidirectional and multiple layers. If bidiretional&#x3D;True, it’s <strong>a double layer RNN</strong>, one forward, the other backward, which leads hidden state and cell state to double-sized.</p>
<h2 id="Pad-and-Pack"><a href="#Pad-and-Pack" class="headerlink" title="Pad and Pack"></a>Pad and Pack</h2><p>Sequential data should be padded to the same length before feeding to RNN. However, <pad> token contributes nothing to the training procedure. <code>pack_padded_sequence</code> packs a batch of padded sequence and send them to the RNN, <code>pack_padded_sequence</code> does vice versa.</p>
<h1 id="Squeeze-and-Unsqeeze"><a href="#Squeeze-and-Unsqeeze" class="headerlink" title="Squeeze and Unsqeeze"></a>Squeeze and Unsqeeze</h1><p>These two methods are widely used for tensor reshaping. It is strongly advised to specify which dimension this operation is needed. By default, <code>squeeze</code> will compress <strong>all</strong> 1-item dimensions, which may cause unpredictable consequences.</p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2022/04/13/echo_424/">上一篇</a><a class="next" href="/2022/02/19/echo_416/">下一篇</a></div><div class="copyright"><p>© 2019 - 2023 <a href="https://wylapp.github.io">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.</p><p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">蒙ICP备20000657号</a>| <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=15078102000235"><img src="https://www.sohu.com/upload/images/server/ghs.png">蒙公网安备15078102000235号</a> </p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>