<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 纪念一下，matplotlib画出了想要的图 · 我的技术</title><meta name="description" content="纪念一下，matplotlib画出了想要的图 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.svg"><link rel="stylesheet" href="/css/hermes.css"><link rel="search" type="application/opensearchdescription+xml" href="https://wylapp.github.io/atom.xml" title="我的技术"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="wrap"><header><a class="logo-link" href="/"><img src="/heading.svg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">BLOG</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self">ARCHIVE</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">FEED</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">纪念一下，matplotlib画出了想要的图</h1><div class="post-info">2020年12月17日</div><div class="post-content"><span id="more"></span>
<p><img src="http://imageproxy.chaoxing.com/0x0,q100,png,sugvv7QREdX8aOsi1j57Bb1cEwM9yt2A8L_tMewb6t68/http://p.ananas.chaoxing.com/star3/origin/785323bf203af0e49dc213131673b308.png" alt="" /></p>
<pre><code class="language-python">import matplotlib.pyplot as plt
import base64
import numpy as np
import pandas as pd
import os
from io import BytesIO

<p>def survivalPlt():<br>    grid3 &#x3D; pd.read_excel(os.path.join(&quot;..&#x2F;&quot;, &quot;uploadfiles&quot;, &quot;S2_data.xlsx&quot;), index_col&#x3D;0, header&#x3D;0)<br>    # projectNames &#x3D; np.array(grid3._stat_axis.values.tolist())<br>    # projectCensors &#x3D; np.array(grid3.iloc[:, 0]).reshape((1, -1))[0]<br>    # projectLife &#x3D; np.array(grid3.iloc[:, 1]).reshape((1, -1))[0]<br>    lifes &#x3D; grid3.iloc[:, 1]<br>    stats &#x3D; grid3.iloc[:, 0]<br>    deadx &#x3D; []<br>    deady &#x3D; []<br>    livex &#x3D; []<br>    livey &#x3D; []<br>    for id,items in enumerate(lifes):<br>        if stats[id] &#x3D;&#x3D; 1:<br>            deadx.append(id)<br>            deady.append(items)<br>        else:<br>            livex.append(id)<br>            livey.append(items)<br>    figure &#x3D; plt.figure(figsize&#x3D;(15, 4))<br>    ax &#x3D; figure.add_subplot(111)<br>    ax.set_frame_on(b&#x3D;False)<br>    # ax.use_sticky_edges(True)<br>    ax.grid(True, linestyle&#x3D;&quot;-.&quot;)<br>    for key, spine in ax.spines.items():<br>        # &amp;#039;left&amp;#039;, &amp;#039;right&amp;#039;, &amp;#039;bottom&amp;#039;, &amp;#039;top&amp;#039;<br>        if key &#x3D;&#x3D; &amp;#039;right&amp;#039; or key &#x3D;&#x3D; &amp;#039;top&amp;#039;:<br>            spine.set_visible(False)<br>    ax.set_xmargin(0)<br>    ax.set_ymargin(0)<br>    ax.yaxis.set_label_position(&quot;right&quot;)<br>    ax.tick_params(axis&#x3D;&quot;y&quot;, direction&#x3D;&quot;inout&quot;, pad&#x3D;-28, labelleft&#x3D;&quot;on&quot;, left&#x3D;False)<br>    ax.tick_params(axis&#x3D;&quot;x&quot;, bottom&#x3D;False)<br>    ax.set_xticklabels([])<br>    ax.scatter(deadx, deady, c&#x3D;&quot;tomato&quot;)<br>    ax.scatter(livex, livey, c&#x3D;&quot;darkturquoise&quot;)<br>    picIO &#x3D; BytesIO()<br>    plt.savefig(&quot;down.png&quot;, bbox_inches&#x3D;&amp;#039;tight&amp;#039;, pad_inches&#x3D;0.0)<br>    plt.savefig(picIO, bbox_inches&#x3D;&amp;#039;tight&amp;#039;, pad_inches&#x3D;0.0)<br>    data &#x3D; base64.encodebytes(picIO.getvalue()).decode()<br>    print(&amp;#039;data:image&#x2F;png;base64,&amp;#039; + str(data))<br>    plt.show()</p>
<p>if <strong>name</strong> &#x3D;&#x3D; &amp;#039;<strong>main</strong>&amp;#039;:<br>    survivalPlt()</code></pre></p>
</div></article></div></main><footer><div class="paginator"><a class="prev" href="/2020/12/29/echo_199/">上一篇</a><a class="next" href="/2020/08/20/echo_157/">下一篇</a></div><div class="copyright"><p>© 2019 - 2023 <a href="https://wylapp.github.io">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.</p><p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">蒙ICP备20000657号</a>| <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=15078102000235"><img src="https://www.sohu.com/upload/images/server/ghs.png">蒙公网安备15078102000235号</a> </p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>