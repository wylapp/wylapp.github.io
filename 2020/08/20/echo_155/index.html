<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 在Linux下更换用户名 · 我的技术</title><meta name="description" content="在Linux下更换用户名 - John Doe"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.svg"><link rel="stylesheet" href="/css/hermes.css"><link rel="search" type="application/opensearchdescription+xml" href="https://wylapp.github.io/atom.xml" title="我的技术"><meta name="generator" content="Hexo 6.2.0"></head><body><div class="wrap"><header><a class="logo-link" href="/"><img src="/heading.svg" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a class="nav-list-link" href="/" target="_self">BLOG</a></li><li class="nav-list-item"><a class="nav-list-link" href="/archives/" target="_self">ARCHIVE</a></li><li class="nav-list-item"><a class="nav-list-link" href="/atom.xml" target="_self">FEED</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">在Linux下更换用户名</h1><div class="post-info">2020年8月20日</div><div class="post-content"><h1>在Linux下更换用户名</h1>
<p>Linux将用户名修改后，还需要修改 组名+家目录+UID<br />这只会更改用户名，而其他的东西，比如用户组，家目录，UID 等都保持不变。<br />以下操作使用root账号进行<br />1、修改用户名</p>
<span id="more"></span>
<pre><code class="language-bash">$ usermod -l 新用户  旧用户</code></pre>
<p>   这只会更改用户名，而其他的东西，比如用户组、家目录、ID 等都保持不变。</p>
<blockquote>
<p>注意： 直接执行上述命令会发现无法执行，因为原来的账户有进程在运行。你需要从要改名的帐号中登出并杀掉该用户的所有进程，要杀掉该用户的所有进程可以执行下面命令。
此操作可能导致图形化界面崩溃，请务必保证可以通过远程终端连接至主机，再使用上述命令。</p>
</blockquote>
<pre><code class="language-bash">1. $ sudo pkill -u 旧用户名
2. $ sudo pkill -9 -u 旧用户名</code></pre>
<p>2、修改家目录</p>
<pre><code class="language-bash">$ sudo usermod -d /home/新用户名 -m 新用户名</code></pre>
<p>上述操作只能把 <code>/etc/passwd</code> 中的用户目录配置修改，但是不能修改已经存在的目录名称。需要手动用户的家目录改名。<br />3、修改组名</p>
<pre><code class="language-bash">$ groupmod -n 新用户名 旧用户名</code></pre>
<p>4、修改UID</p>
<pre><code class="language-bash">$ sudo usermod -u 1000 新用户名</code></pre>
<p>5、检查</p>
<pre><code class="language-bash">$ id 新用户名</code></pre></div></article></div></main><footer><div class="paginator"><a class="prev" href="/2020/08/20/echo_157/">上一篇</a><a class="next" href="/2020/04/08/echo_139/">下一篇</a></div><div class="copyright"><p>© 2019 - 2023 <a href="https://wylapp.github.io">John Doe</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a>.</p><p><a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/">蒙ICP备20000657号</a>| <a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=15078102000235"><img src="https://www.sohu.com/upload/images/server/ghs.png">蒙公网安备15078102000235号</a> </p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>